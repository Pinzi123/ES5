!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(1),u=n(s),f=r(2),l=n(f);r(3);var h=function(t,e){var r=!0,n=!1,o=void 0;try{for(var i,a=Reflect.ownKeys(e)[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var c=i.value;if("constructor"!==c&&"prototype"!==c&&"name"!==c){var s=Object.getOwnPropertyDescriptor(e,c);Object.defineProperty(t,c,s)}}}catch(t){n=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}};(new(function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.chess=document.getElementById("chess"),t.context=t.chess.getContext("2d"),t.over=!1,t.wins=[],t.myWin=[],t.computerWin=[],t.chessBoard=[],t.me=!0,t.count=0,t}return i(e,t),c(e,[{key:"init",value:function(){this.chessBoardInit(),this.chessInit();var t=this;this.chess.onclick=function(e){t.clickChess(e)}}}]),e}(function(){for(var t=function t(){a(this,t)},e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=!0,i=!1,c=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var f=s.value;h(t,f),h(t.prototype,f.prototype)}}catch(t){i=!0,c=t}finally{try{!o&&u.return&&u.return()}finally{if(i)throw c}}return t}(u.default,l.default)))).init()},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(){function t(){n(this,t)}return o(t,[{key:"chessInit",value:function(){for(var t=0;t<15;t++){this.wins[t]=[];for(var e=0;e<15;e++)this.wins[t][e]=[]}for(var r=0;r<15;r++){this.chessBoard[r]=new Array;for(var n=0;n<15;n++)this.chessBoard[r][n]=0}for(var t=0;t<15;t++)for(var e=0;e<11;e++){for(var o=0;o<5;o++)this.wins[t][e+o][this.count]=!0;this.count++}for(var t=0;t<15;t++)for(var e=0;e<11;e++){for(var o=0;o<5;o++)this.wins[e+o][t][this.count]=!0;this.count++}for(var t=0;t<11;t++)for(var e=0;e<11;e++){for(var o=0;o<5;o++)this.wins[t+o][e+o][this.count]=!0;this.count++}for(var t=0;t<11;t++)for(var e=14;e>3;e--){for(var o=0;o<5;o++)this.wins[t+o][e-o][this.count]=!0;this.count++}for(var t=0;t<this.count;t++)this.myWin[t]=0,this.computerWin[t]=0}},{key:"clickChess",value:function(t){var e=this;if(!this.over&&this.me){var r=t.offsetX,n=t.offsetY,o=Math.floor(r/30),i=Math.floor(n/30);0===this.chessBoard[o][i]&&this.oneStep(o,i,this.me).then(function(){e.chessBoard[o][i]=1,e.me=!e.me;for(var t=0;t<e.count;t++)e.wins[o][i][t]&&(e.myWin[t]++,e.computerWin[t]=6,5===e.myWin[t]&&(window.alert("你赢了"),e.over=!0));e.over||e.computerAI()})}}},{key:"computerAI",value:function(){for(var t=this,e=[],r=[],n=0,o=0,i=0,a=0;a<15;a++){e[a]=[],r[a]=[];for(var c=0;c<15;c++)e[a][c]=0,r[a][c]=0}for(var s=0;s<15;s++)for(var c=0;c<15;c++)if(0===this.chessBoard[s][c]){for(var u=0;u<this.count;u++)this.wins[s][c][u]&&(1===this.myWin[u]?e[s][c]+=200:2===this.myWin[u]?e[s][c]+=400:3===this.myWin[u]?e[s][c]+=2e3:4===this.myWin[u]&&(e[s][c]+=1e4),1===this.computerWin[u]?r[s][c]+=220:2===this.computerWin[u]?r[s][c]+=420:3===this.computerWin[u]?r[s][c]+=2100:4===this.computerWin[u]&&(r[s][c]+=2e4));e[s][c]>n?(n=e[s][c],o=s,i=c):e[s][c]===n&&r[s][c]>r[s][c]&&(o=s,i=c),r[s][c]>n?(n=r[s][c],o=s,i=c):r[s][c]===n&&e[s][c]>e[s][c]&&(o=s,i=c)}this.oneStep(o,i,!1).then(function(){t.chessBoard[o][i]=2;for(var e=0;e<t.count;e++)t.wins[o][i][e]&&(t.computerWin[e]++,t.myWin[e]=6,5===t.computerWin[e]&&(window.alert("你输了"),t.over=!0));t.over||(t.me=!t.me)})}}]),t}();e.default=i},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(){function t(){n(this,t)}return o(t,[{key:"chessBoardInit",value:function(){var t=this;this.context.strokeStyle="#BFBFBF";var e=new Image;e.src="./img/logo.png",e.onload=function(){t.context.drawImage(e,50,50,350,350),t.drawChessBoard()}}},{key:"drawChessBoard",value:function(){for(var t=0;t<15;t++)this.context.moveTo(15+30*t,15),this.context.lineTo(15+30*t,435),this.context.stroke(),this.context.moveTo(15,15+30*t),this.context.lineTo(435,15+30*t),this.context.stroke()}},{key:"oneStep",value:function(t,e,r){var n=this;return new Promise(function(o,i){n.context.beginPath(),n.context.arc(15+30*t,15+30*e,13,0,2*Math.PI),n.context.closePath();var a=n.context.createRadialGradient(15+30*t+2,15+30*e-2,13,15+30*t+2,15+30*e-2,0);r?(a.addColorStop(0,"#0A0A0A"),a.addColorStop(1,"#636766")):(a.addColorStop(0,"#D1D1D1"),a.addColorStop(1,"#F9F9F9")),n.context.fillStyle=a,n.context.fill(),setTimeout(o,100,"done")})}}]),t}();e.default=i},function(t,e){}]);